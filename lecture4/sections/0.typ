#import "../globals.typ": *

== ç®€ä»‹

#slide[
  #grid(
    columns: (28em, 1fr),
    // å›ºå®šå·¦æ å®½åº¦+å³æ è‡ªé€‚åº”
    gutter: 1em,
    // æ é—´è·
    // å·¦æ : æ–‡å­—å†…å®¹
    [
      #link("https://www.rust-lang.org/zh-CN/")[ğŸ¦€Rustå®˜ç½‘]

      åœ¨ç¼–ç¨‹è¯­è¨€çš„ä¸–ç•Œé‡Œï¼Œå¼€å‘è€…å¸¸å¸¸é¢ä¸´ä¸€ä¸ªç»å…¸çš„ä¸‰éš¾é€‰æ‹©ï¼šæ€§èƒ½ã€å®‰å…¨ä¸æŠ½è±¡ï¼Œä¸‰è€…ä¼¼ä¹éš¾ä»¥å…¼å¾—ã€‚

      C/C++ç­‰ç³»ç»Ÿçº§è¯­è¨€æä¾›äº†æè‡´çš„æ€§èƒ½å’Œåº•å±‚æ§åˆ¶åŠ›ï¼Œä½†å°†å†…å­˜å®‰å…¨çš„é‡æ‹…å®Œå…¨äº¤ç»™äº†å¼€å‘è€…ï¼Œç¨æœ‰ä¸æ…ä¾¿ä¼šå¼•å‘éš¾ä»¥è¿½è¸ªçš„bugã€‚

      Pythonç­‰é«˜çº§è¯­è¨€é€šè¿‡åƒåœ¾å›æ”¶æœºåˆ¶æä¾›äº†å†…å­˜å®‰å…¨å’Œé«˜åº¦çš„æŠ½è±¡èƒ½åŠ›ï¼Œè®©å¼€å‘å˜å¾—ç®€å•å¿«æ·ï¼Œå´åœ¨æ€§èƒ½ä¸Šåšå‡ºäº†å·¨å¤§ç‰ºç‰²ã€‚

      Rustçš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†æŒ‘æˆ˜è¿™ä¸€â€œä¸å¯èƒ½ä¸‰è§’â€ï¼Œå®ƒæ‰¿è¯ºæä¾›ä¸C++ç›¸åª²ç¾çš„æ€§èƒ½ã€é›¶æˆæœ¬çš„æŠ½è±¡ï¼Œä»¥åŠåœ¨ç¼–è¯‘æ—¶å°±å¼ºåˆ¶ä¿éšœçš„å†…å­˜å®‰å…¨ã€‚

    ],
    [
      #image("../images/0.png", width: 100%, alt: "0")
    ],
  )
]
== ç¯å¢ƒ
#slide[
  ä¹Ÿè®¸ä½ å—å¤Ÿäº†c++çš„ç¯å¢ƒé…ç½®â€¦
  #image("../images/1.png", width: 20%, alt: "1")
  â€œè¿™æŠ¥é”™æ˜¯å•¥ç©æ„å„¿å•Šï¼Ÿ`undefined reference to`â€¦ æˆ‘æ˜æ˜é“¾æ¥äº†å•Šï¼æ˜¨å¤©è¿˜å¥½å¥½çš„ï¼Œä»Šå¤©æ€ä¹ˆå°±ä¸è¡Œäº†ï¼Ÿç¼–è¯‘å™¨æ˜¯ä¸æ˜¯åœ¨è€æˆ‘ï¼ŸæŠ¥çš„é”™è·Ÿå®é™…é—®é¢˜æ ¹æœ¬ä¸æ˜¯ä¸€å›äº‹ï¼â€

  â€œè¡Œï¼Œæˆ‘æ‰“ä¸ªæ–­ç‚¹è°ƒè¯•ä¸€ä¸‹ã€‚å—¯ï¼ŸGDB æ€ä¹ˆè¿ä¸ä¸Šäº†ï¼Ÿ`Could not find a task to run`â€¦ æˆ‘ï¼æ˜¨å¤©åˆšé…å¥½çš„ç¯å¢ƒï¼Œè°åˆç»™æˆ‘åŠ¨äº†ï¼Ÿâ€
]
#slide[
  â€œç®—äº†ï¼Œä¸ç®¡äº†ï¼ŒIDE åº”è¯¥èƒ½å¸®æˆ‘å§ã€‚è¯¶ï¼Ÿæˆ‘çš„ä»£ç æç¤ºå‘¢ï¼Ÿæˆ‘çš„è‡ªåŠ¨è¡¥å…¨æ€ä¹ˆæ²¡äº†ï¼Ÿæ˜¨å¤©è¿˜ä¸æ»‘æµç•…ï¼Œä»Šå¤©å°±è·Ÿä¸ªè®°äº‹æœ¬ä¸€æ ·ã€‚å³ä¸‹è§’ `clangd` åœ¨é‚£è½¬åœˆï¼Œç‚¹å¼€ä¸€çœ‹ï¼Œâ€˜æ­£åœ¨ä¸‹è½½ LLVMâ€™ï¼Œè¿›åº¦æ¡ä¸‡å¹´ä¸åŠ¨ã€‚è¡Œï¼Œæˆ‘ç­‰ã€‚åŠå°æ—¶åï¼Œâ€˜ä¸‹è½½å¤±è´¥â€™ã€‚ä½ ç»™çš„é‚£ä¸ªä¸‹è½½é“¾æ¥ï¼Œæˆ‘ç”¨æµè§ˆå™¨éƒ½æ‰“ä¸å¼€å•Šï¼â€

  â€œæˆ‘ä¸Šå®˜ç½‘æ‰‹åŠ¨ä¸‹ã€‚å¥½å®¶ä¼™ï¼ŒMinGWã€MinGW-w64ã€MSYS2ã€TDM-GCCâ€¦â€¦åˆ°åº•è¯¥ä¸‹å“ªä¸ªï¼Ÿç½‘ä¸Šåç¯‡æ•™ç¨‹æœ‰å…«ç§è¯´æ³•ï¼Œæ¯ä¸ªéƒ½è¯´è‡ªå·±çš„æ˜¯å¯¹çš„ã€‚ç¯å¢ƒå˜é‡é…æ¥é…å»ï¼Œ`PATH` é‡Œä¸€é•¿ä¸²ï¼Œè·Ÿä¸ªè—å®å›¾ä¼¼çš„ï¼Œæˆ‘è‡ªå·±éƒ½çœ‹ä¸æ‡‚äº†ã€‚â€

  â€œæ‰€ä»¥ï¼ŒGNUã€MinGWã€LLVMã€Clangï¼Œä½ ä»¬è¿™å¸®ç¥ä»™åˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»å•Šï¼Ÿä¸å°±æ˜¯æƒ³åœ¨ Windows ä¸Šè·‘ä¸ª C++ å—ï¼Ÿæ€ä¹ˆæå¾—è·Ÿè¦å‘å°„ç«ç®­ä¸€æ ·å¤æ‚ï¼Ÿæˆ‘çœŸçš„å—å¤Ÿäº†ï¼â€
]
#slide[
  pythonä¼¼ä¹ä¹Ÿä¸æ˜¯å¾ˆå¥½ç”¨
  #image("../images/2.jpg", width: 20%, alt: "2")
  â€œé¡¹ç›®è¦æ±‚ç”¨ `conda`ã€‚è¡Œï¼Œ`conda create -n my_env`ï¼Œä¸€æ°”å‘µæˆã€‚ç„¶å `conda install some_package`ï¼Œâ€˜Package not found in current channelsâ€™ã€‚æ€ä¹ˆå›äº‹ï¼Ÿconda é‡Œå±…ç„¶æ²¡æœ‰è¿™ä¸ªåŒ…ï¼Ÿï¼â€

  â€œæ²¡äº‹ï¼Œæˆ‘ä¸æ˜¯è¿˜æœ‰ `pip` å—ï¼Ÿ`pip install some_package`ï¼Œâ€˜Successfully installedâ€™ã€‚å®Œç¾ï¼ä¸€è¿è¡Œï¼Œ`ImportError`ã€‚ä¸ºä»€ä¹ˆï¼Ÿï¼æˆ‘ä¸æ˜¯å·²ç»è£…ä¸Šäº†å—ï¼Ÿâ€
]

#slide[
  - é‚£ä¹ˆrustæ˜¯å¦‚ä½•åšçš„å‘¢ï¼Ÿ
  #image("../images/3.svg", width: 100%, alt: "2")
]


#slide[
  #image("../images/4.gif", width: 25%, alt: "Rust Crab")

  #text[
    å®è·µç¯èŠ‚ï¼šåŠ¨æ‰‹å®‰è£…ä¸€ä¸‹Rustç¯å¢ƒ#link("https://www.rust-lang.org/zh-CN/learn/get-started")[ğŸ¦€ Rustå®‰è£…æŒ‡å—]

    è¯¥é¡µé¢ä¼šè‡ªåŠ¨æ£€æµ‹ä½ çš„æ“ä½œç³»ç»Ÿï¼ˆWindowsã€Linuxã€macOSï¼‰ï¼Œå¹¶ç»™å‡ºæœ€é€‚åˆä½ çš„å®‰è£…æ–¹å¼ã€‚

    è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å­¦ä¹  Rust çš„ç¬¬ä¸€æ­¥ï¼Œå»ºè®®å¤§å®¶æŒ‰ç…§å®˜æ–¹æ¨èæµç¨‹å®Œæˆå®‰è£…ï¼Œä½“éªŒ Rust ç®€æ´é«˜æ•ˆçš„ç¯å¢ƒé…ç½®ã€‚ï¼ˆå¯ä»¥å’Œä¸Šè¾¹çš„ä¸¤ç§è¯­è¨€å½¢æˆå¯¹æ¯”ï¼‰
  ]
]

#slide[
  #image("../images/5.svg", width: 100%, alt: "5")
]

#slide[
  - åŠ¨æ‰‹å®è·µï¼šå®ç°ç¬¬ä¸€ä¸ª`Hello World!`


  ```bash
  cargo new my_app
  ```

]

#slide[
  #image("../images/6.svg", width: 100%, alt: "6")
  è¿™é‡Œå¯¹åº”äº†ä¸¤ç§ä¸åŒçš„é¡¹ç›®ç»“æ„
  - äºŒè¿›åˆ¶ crate (Binary Crate)ï¼šç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼ˆæœ‰ main.rs æ–‡ä»¶ï¼‰ã€‚ç›®çš„æ˜¯è¿è¡Œã€‚
  - åº“ crate (Library Crate)ï¼šç”Ÿæˆä¸€ä¸ªåº“ï¼Œä¾›å…¶ä»–ç¨‹åºè°ƒç”¨ï¼ˆæœ‰ lib.rs æ–‡ä»¶ï¼‰ã€‚ç›®çš„æ˜¯è¢«ä¾èµ–ã€‚
]
#slide[
  #grid(
    columns: (20em, 1fr),
    // å›ºå®šå·¦æ å®½åº¦+å³æ è‡ªé€‚åº”
    gutter: 1em,
    // æ é—´è·
    // å·¦æ : æ–‡å­—å†…å®¹
    [
      crate æ˜¯ä»€ä¹ˆï¼Ÿ

      #set text(red)
      Crate æ˜¯ Rust è¯­è¨€ä¸­æœ€å°çš„ç¼–è¯‘å•å…ƒ
      #set text(black)

      å¦‚ä½•ç†è§£å‘¢ï¼Ÿ

      å¯ä»¥å°†Crateç†è§£ä¸ºä¸€ä¸ªå®Œæ•´çš„ç»†èƒ

      ç»†èƒå™¨ === ç§æœ‰çš„æ¨¡å—å’Œæ•°æ®ç»“æ„

      ç»†èƒè†œ === å…¬å…±API

      ç”Ÿç‰©ï¼ˆç»†èƒç»„åˆï¼‰ === åº”ç”¨ç¨‹åºï¼ˆcrateç»„åˆï¼‰

    ],
    [
      #image("../images/7.png", width: 100%, alt: "6")
    ],
  )
]

== è¯­æ³•
#slide[
  #grid(
    columns: (22em, 1fr),
    // å›ºå®šå·¦æ å®½åº¦+å³æ è‡ªé€‚åº”
    gutter: 1em,
    // æ é—´è·
    // å·¦æ : æ–‡å­—å†…å®¹
    [

      éšç€å¯¹ç¼–ç¨‹è¯­è¨€å­¦ä¹ çš„æ·±å…¥ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå„ç§ç¼–ç¨‹è¯­è¨€éƒ½èƒ½è§£å†³æ‰€æœ‰ç†è®ºä¸Šå¯é€šè¿‡ç¼–ç¨‹è§£å†³çš„é—®é¢˜ã€‚

      #set text(red)
      é‚£ä¹ˆï¼Œå…¶èƒŒåçš„æœ¬è´¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
      #set text(black)

      æˆ‘è®¤ä¸ºï¼Œå…¶æœ¬è´¨åœ¨äºå®ƒä»¬éƒ½å…·å¤‡äº†å›¾çµå®Œå¤‡çš„è®¡ç®—èƒ½åŠ›ã€‚

      ç„¶è€Œï¼Œè¿™è‚¡å¼ºå¤§çš„æ½œèƒ½éœ€è¦ä¸€å¥—ç²¾ç¡®çš„è§„åˆ™æ¥è¡¨è¾¾å’Œæ§åˆ¶ï¼Œè€Œè¿™å¥—è§„åˆ™ï¼Œæ­£æ˜¯è¯­æ³•ç»“æ„ã€‚å®ƒä¸ºæˆ‘ä»¬é©¾é©­è¿™ç§å¼ºå¤§çš„è®¡ç®—èƒ½åŠ›æä¾›äº†å…·ä½“çš„æ“ä½œæ–¹æ³•ã€‚

      æ‰€ä»¥ï¼Œæƒ³è¦å­¦ä¹ ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œé¦–å…ˆè¦å­¦ä¼šçš„å°±æ˜¯å®ƒçš„è¯­æ³•ç»“æ„ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬ä¸æœºå™¨æ²Ÿé€šã€å¹¶æŒ‡æŒ¥å…¶å®Œæˆä»»åŠ¡çš„ç¬¬ä¸€æ­¥ã€‚

    ],
    [
      #image("../images/8.png", width: 100%, alt: "8")
    ],
  )
]

#slide[
  #image("../images/9.svg", width: 100%, alt: "9")
  #image("../images/10.svg", width: 100%, alt: "10")
  #image("../images/11.svg", width: 100%, alt: "11")
]


#slide[
  - è®©æˆ‘ä»¬ä½¿ç”¨å®é™…çš„ä»£ç ä¾‹å­æ¥è¯´æ˜è¿™äº›è¯­æ³•

  #link("https://github.com/shihuaidexianyu/rust-example")[ğŸ¦€ rust-example]

]
#slide[
  - é®è”½ (Shadowing)

  å®šä¹‰ï¼šåœ¨åŒä¸€ä½œç”¨åŸŸå†…ï¼Œä½¿ç”¨ `let` å…³é”®å­—å¯ä»¥å£°æ˜ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œè¿™ä¸ªæ–°å˜é‡ä¼šâ€œé®è”½â€æ—§å˜é‡ã€‚

  ```rs
  let count = 10; // "å…¨å±€" (æˆ–å¤–å±‚ä½œç”¨åŸŸ) å˜é‡

  fn my_func() {
      // å¦‚æœä½ åªæƒ³è¯»å–ï¼Œæ²¡é—®é¢˜
      println!("{}", count); // è¿™ä¼šè®¿é—®å¤–å±‚çš„ countï¼Œè¾“å‡º 10

      // å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªæ–°çš„å±€éƒ¨å˜é‡æ¥é®è”½å®ƒï¼Œå¿…é¡»ç”¨ let
      let count = count + 1; // æ˜¾å¼å£°æ˜ä¸€ä¸ªæ–°çš„ã€å±€éƒ¨çš„ count
      println!("{}", count); // è¾“å‡º 11
  }
  ```

]
#slide[

  æ ¸å¿ƒä¼˜åŠ¿:

  1. å…è®¸æ”¹å˜ç±»å‹ï¼šè¿™æ˜¯ä¸ `mut` (å¯å˜å˜é‡) çš„æœ€å¤§åŒºåˆ«ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªæ–°ç±»å‹çš„å˜é‡é®è”½æ—§å˜é‡ï¼Œéå¸¸é€‚åˆæ•°æ®è½¬æ¢çš„åœºæ™¯ã€‚

    ```rust
    let spaces = "   ";         // spaces æ˜¯ &str ç±»å‹
    let spaces = spaces.len(); // spaces è¢«é®è”½ï¼Œæ–°å˜é‡æ˜¯ usize ç±»å‹
    ```

  2. ç»´æŒä¸å¯å˜æ€§ï¼šæ¯æ¬¡é®è”½éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ã€é»˜è®¤ä¸å¯å˜çš„å˜é‡ã€‚è¿™æœ‰åŠ©äºé˜²æ­¢åœ¨åç»­ä»£ç ä¸­æ„å¤–ä¿®æ”¹å€¼ï¼Œå¢å¼ºäº†ä»£ç çš„å®‰å…¨æ€§ã€‚

  ä¸ Python çš„åŒºåˆ«ï¼šRust çš„é®è”½æ˜¯æ˜¾å¼çš„ï¼ˆå¿…é¡»ç”¨ `let`ï¼‰ï¼Œä¸”ä¸ä¼šäº§ç”Ÿ Python ä¸­å› éšå¼åˆ›å»ºæœ¬åœ°å˜é‡è€Œå¯¼è‡´çš„ `UnboundLocalError` é™·é˜±ã€‚

  ```python

  count = 10  # å…¨å±€å˜é‡

  def my_func():
      # Python çœ‹åˆ°ä¸‹é¢æœ‰å¯¹ count çš„èµ‹å€¼æ“ä½œï¼Œ
      # äºæ˜¯å®ƒè®¤ä¸º count æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œè€Œä¸æ˜¯å¤–é¢çš„å…¨å±€å˜é‡ã€‚
      # ä½†æ˜¯åœ¨ print çš„æ—¶å€™ï¼Œè¿™ä¸ªå±€éƒ¨çš„ count è¿˜æ²¡æœ‰è¢«èµ‹å€¼å®šä¹‰ã€‚
      # æ‰€ä»¥ä¼šæŠ›å‡º UnboundLocalError
      print(count) # é”™è¯¯ï¼ UnboundLocalError: local variable 'count' referenced before assignment
      count += 1

  my_func()
  ```
]
#slide[
  ä»£ç å—ä½œä¸ºè¡¨è¾¾å¼ (Block as an Expression)

  åœ¨ Rust ä¸­ï¼Œ`{}` ä»£ç å—æœ¬èº«å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œèƒ½å¤Ÿè®¡ç®—å¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚

  ä»£ç å—çš„è¿”å›å€¼æ˜¯å…¶æœ€åä¸€è¡Œæ²¡æœ‰åˆ†å·çš„è¡¨è¾¾å¼çš„å€¼ã€‚

  ```rust
  let x = {
      let y = 5;
      y + 1 // æ²¡æœ‰åˆ†å·ï¼Œè¡¨è¾¾å¼çš„å€¼ 6 å°†ä½œä¸ºæ•´ä¸ªå—çš„è¿”å›å€¼
  }; // x çš„å€¼ç°åœ¨æ˜¯ 10
  ```

  ä»£ç å—ä¸­å¯ä»¥ä½¿ç”¨`return`å…³é”®å­—ï¼Œå®ƒä¼šç«‹å³ä¸­æ–­ä»£ç å—çš„æ‰§è¡Œï¼Œå¹¶è¿”å›`return`ä¹‹åçš„å†…å®¹ï¼ˆä¸­æ–­èµ‹å€¼ã€ä¸­æ–­å‡½æ•°ï¼‰ã€‚

]
#slide[
  enum å’Œ match æ˜¯ Rust ä¸­ä¸€å¯¹ç›¸è¾…ç›¸æˆã€åŠŸèƒ½æå…¶å¼ºå¤§çš„ç»„åˆã€‚

  å®ƒä»¬å…±åŒæ„æˆäº† Rust å®ç°ç±»å‹å®‰å…¨å’Œä»£ç è¡¨ç°åŠ›çš„æ ¸å¿ƒåŸºçŸ³ä¹‹ä¸€ã€‚

  å¦‚æœè¯´æ‰€æœ‰æƒç³»ç»Ÿæ˜¯ Rust åœ¨å†…å­˜å®‰å…¨ä¸Šçš„ç­”æ¡ˆï¼Œé‚£ä¹ˆ enum å’Œ match å°±æ˜¯ Rust åœ¨æ•°æ®ç»“æ„å’Œæ§åˆ¶æµä¸Šçš„ä¼˜é›…è§£å†³æ–¹æ¡ˆã€‚








]
#slide[
  enum çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸€ä¸ªç±»å‹å¯ä»¥æ˜¯å¤šç§ä¸åŒå¯èƒ½æ€§ä¸­çš„ä¸€ç§ã€‚

  è¿™å¬èµ·æ¥æœ‰ç‚¹åƒå…¶ä»–è¯­è¨€ä¸­çš„æšä¸¾(ä½†è¯´çœŸçš„æˆ‘æ„Ÿè§‰æˆ‘éƒ½æ²¡ç”¨è¿‡å…¶å®ƒè¯­è¨€çš„æšä¸¾)ï¼Œä½† Rust çš„ enum è¿œä¸æ­¢äºæ­¤ã€‚å…¶ä»–è¯­è¨€çš„æšä¸¾é€šå¸¸åªæ˜¯å¯¹æ•´æ•°çš„ä¸€ç»„å‘½åå¸¸é‡ï¼Œè€Œ Rust çš„ enum å˜ä½“å¯ä»¥æºå¸¦ä¸åŒç±»å‹å’Œæ•°é‡çš„æ•°æ®ã€‚

  è¿™ä½¿å¾— enum æˆä¸ºä¸€ç§åˆ›å»ºè‡ªå®šä¹‰â€œå’Œç±»å‹â€ï¼ˆSum Typeï¼‰çš„å¼ºå¤§å·¥å…·ã€‚ä¸€ä¸ª enum çš„å€¼ï¼Œåªèƒ½æ˜¯å…¶å®šä¹‰çš„å˜ä½“ä¹‹ä¸€ï¼Œç»æ— å…¶ä»–å¯èƒ½ã€‚
]


#slide[

  æˆ‘ä»¬åˆšåˆšçœ‹åˆ°çš„è¯­æ³•ï¼Œéƒ½æ˜¯åœ¨ä¸ºä¸€ä¸ªæ›´å®å¤§ã€æ›´æ ¸å¿ƒçš„æœºåˆ¶æœåŠ¡ï¼Œè¿™ä¸ªæœºåˆ¶å°±æ˜¯æ‰€æœ‰æƒç³»ç»Ÿã€‚å®ƒæ·±åˆ»åœ°å½±å“ç€æˆ‘ä»¬å¦‚ä½•ç¼–å†™ Rust ä»£ç ã€‚

  æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹æ‰€æœ‰æƒæœºåˆ¶ã€‚

]
== æ‰€æœ‰æƒæœºåˆ¶
#slide[

  æ‰€æœ‰æƒæ˜¯Rustæœ€æ ¸å¿ƒã€æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ï¼Œå®ƒä½¿å¾—Rustæ— éœ€åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰å°±èƒ½ä¿è¯å†…å­˜å®‰å…¨ã€‚ç†è§£æ‰€æœ‰æƒï¼Œæ˜¯æŒæ¡Rustçš„å…³é”®ã€‚

  è¦ç†è§£Rustçš„æ‰€æœ‰æƒï¼Œé¦–å…ˆè¦æ˜ç™½å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚
  ç¨‹åºçš„å†…å­˜é€šå¸¸åˆ†ä¸ºæ ˆï¼ˆStackï¼‰å’Œå †ï¼ˆHeapï¼‰ã€‚

  æ ˆçš„åˆ†é…å’Œå›æ”¶é€Ÿåº¦æå¿«ï¼Œéµå¾ªâ€œåè¿›å…ˆå‡ºâ€çš„åŸåˆ™ï¼Œç”¨äºå­˜å‚¨å¤§å°å›ºå®šçš„æ•°æ®ã€‚ï¼ˆä½†æ˜¯å®ƒåœ¨ç¨‹åºç¼–è¯‘çš„æ—¶å€™å°±ç¡®å®šäº†ï¼Œä¸”æ¯”è¾ƒçš„å°ï¼‰

  å †åˆ™ç”¨äºå­˜å‚¨å¤§å°åœ¨ç¼–è¯‘æ—¶æœªçŸ¥æˆ–å¯èƒ½å˜åŒ–çš„æ•°æ®ï¼Œåˆ†é…å’Œå›æ”¶ç›¸å¯¹è¾ƒæ…¢ï¼Œä¸”éœ€è¦ç²¾ç»†ç®¡ç† ã€‚ï¼ˆæ˜¯åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ç¡®å®šçš„ï¼Œä½†æ˜¯éœ€è¦é¢å¤–çš„ç®¡ç†ï¼‰

  è€Œæ‰€æœ‰æƒæœºåˆ¶ä¸»è¦é’ˆå¯¹çš„æ˜¯ä½äºå †ä¸Šçš„æ•°æ®ã€‚


]
#slide[
  #grid(
    columns: (15em, 1fr),
    // å›ºå®šå·¦æ å®½åº¦+å³æ è‡ªé€‚åº”
    gutter: 1em,
    // æ é—´è·
    // å·¦æ : æ–‡å­—å†…å®¹
    [

      æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªâ€œé¤å…åœè½¦â€çš„æ¯”å–»æ¥ç†è§£ä¸åŒè¯­è¨€çš„å†…å­˜ç®¡ç†æ–¹å¼ï¼š

      å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªé¤å…çš„åœè½¦åœºï¼Œå®ƒå¾ˆå¤§ï¼Œå¤§åˆ°éœ€è¦ä½¿ç”¨å¯¼èˆªï¼ˆå†…å­˜åœ°å€ï¼‰æ‰èƒ½æ‰¾åˆ°åœ¨å“ªé‡Œåœè½¦ã€‚

      ä½œä¸ºç®¡ç†å‘˜ï¼Œä½ éœ€è¦çŸ¥é“å“ªé‡Œæœ‰ä½ç½®ï¼Œå¹¶æŒ‡å¯¼é¡¾å®¢æŠŠè½¦åœåˆ°ç©ºä½ä¸Šã€‚

      å¦‚ä½•å®Œæˆè¿™ä»¶äº‹ï¼Ÿï¼Ÿï¼Ÿ


    ],
    [
      #image("../images/12.png", width: 100%, alt: "12")
    ],
  )
]
#slide[
  - C/C++ (æ‰‹åŠ¨ç®¡ç†):
    - ä½ å¾—è‡ªå·±æ‰¾è½¦ä½åœè½¦ï¼Œå¹¶ç‰¢ç‰¢è®°ä½è½¦åœåœ¨å“ªå„¿ï¼ˆå°±åƒç”¨ malloc åˆ†é…å†…å­˜ï¼‰ã€‚
    - åƒå®Œé¥­èµ°çš„æ—¶å€™ï¼Œä½ å¿…é¡»è‡ªå·±è´Ÿè´£æŠŠè½¦å¼€èµ°ï¼ˆè°ƒç”¨ freeï¼‰ã€‚
    - å¦‚æœä½ å¿˜äº†å¼€èµ°ï¼Œè¿™è¾†è½¦å°±ä¼šæ°¸è¿œå ç€è½¦ä½ï¼ˆå†…å­˜æ³„æ¼ï¼‰ã€‚å¦‚æœä½ å‘Šè¯‰æœ‹å‹è½¦åœ¨AåŒºï¼Œä½†è‡ªå·±æå‰å¼€èµ°äº†ï¼Œæœ‹å‹å°±ä¼šæ‰‘ç©ºï¼ˆæ‚¬å‚æŒ‡é’ˆï¼‰ã€‚
  - Python (åƒåœ¾å›æ”¶):
    -ä½ æŠŠé’¥åŒ™äº¤ç»™é—¨å£çš„æœåŠ¡å‘˜ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰ï¼Œå°±å¯ä»¥ç›´æ¥å»åƒé¥­äº†ï¼Œéå¸¸çœå¿ƒã€‚
    - æœåŠ¡å‘˜ä¼šé›‡ä¸€ä¸ªæ¸…æ´å·¥ï¼ˆåƒåœ¾å›æ”¶å™¨ï¼‰ï¼Œä»–ä¼šå®šæ—¶å·¡è§†ï¼Œçœ‹åˆ°å“ªäº›è½¦çš„è½¦ä¸»å·²ç»ç»“è´¦èµ°äº†ï¼Œå°±æŠŠè¿™äº›â€œæ²¡äººè¦â€çš„è½¦å¼€èµ°å¤„ç†æ‰ã€‚
    - è¿™å¾ˆæ–¹ä¾¿ï¼Œä½†æ¸…æ´å·¥å·¥ä½œæ—¶å¯èƒ½ä¼šæš‚æ—¶å µä½åœè½¦åœºå…¥å£ï¼Œé€ æˆä¸€ç‚¹ç‚¹å»¶è¿Ÿï¼ˆGCåœé¡¿ï¼‰ã€‚

]
#slide[
  - Rust (æ‰€æœ‰æƒ):
  - ä½ æ‹¿åˆ°ä¸€å¼ æ™ºèƒ½é’¥åŒ™å¡ï¼ˆæ‰€æœ‰æƒï¼‰ï¼Œè¿™å¼ å¡ä¸ä½ çš„é¤æ¡Œç»‘å®šã€‚è¿™æ˜¯ç§»åŠ¨è¿™è¾†è½¦çš„å”¯ä¸€å‡­è¯ã€‚
  - è§„åˆ™æå…¶ä¸¥æ ¼ï¼šå½“ä½ ç»“è´¦ç¦»å¼€é¤å…æ—¶ï¼ˆå˜é‡ç¦»å¼€ä½œç”¨åŸŸï¼‰ï¼Œç»“è´¦ç³»ç»Ÿä¼šå¼ºåˆ¶æ”¶å›ä½ çš„é’¥åŒ™å¡ï¼Œå¹¶ç«‹å³è‡ªåŠ¨æŠŠè½¦ä½æ¸…ç©ºã€‚
  - ä½ æ ¹æœ¬æ²¡æœ‰æœºä¼šå¿˜è®°æˆ–æé”™ï¼Œå› ä¸ºä¸æŒ‰è§„çŸ©æ¥ï¼Œç»“è´¦ç³»ç»Ÿï¼ˆç¼–è¯‘å™¨ï¼‰é‚£ä¸€å…³å°±è¿‡ä¸å»ã€‚
]
#slide[
  #grid(
    columns: (15em, 1fr),
    // å›ºå®šå·¦æ å®½åº¦+å³æ è‡ªé€‚åº”
    gutter: 1em,
    // æ é—´è·
    // å·¦æ : æ–‡å­—å†…å®¹
    [

      - ç»§ç»­åˆšæ‰çš„ä¾‹å­
      - ç°åœ¨é‡‡ç”¨äº†Rusté©±åŠ¨çš„åœè½¦åœºç®¡ç†ç³»ç»Ÿï¼Œä½†æ˜¯å…‰æœ‰è¿™äº›åŠŸèƒ½ä¸è¶³ä»¥æ»¡è¶³é¡¾å®¢çš„éœ€æ±‚

      - æ–°çš„éœ€æ±‚:
        - åœ¨åƒé¥­æœŸé—´ï¼Œé¡¾å®¢çš„æœ‹å‹æƒ³ç”¨ä¸€ä¸‹ä»–çš„è½¦ï¼Œä½†é¡¾å®¢å¹¶ä¸æƒ³æŠŠå”¯ä¸€çš„â€œæ™ºèƒ½é’¥åŒ™å¡â€äº¤ç»™ä»–çš„æœ‹å‹ã€‚


    ],
    [
      #image("../images/13.png", width: 100%, alt: "12")
    ],
  )
]


#slide[
  - é‚£ä¹ˆRustæ˜¯å¦‚ä½•å®Œæˆè¿™ä»¶äº‹çš„å‘¢ï¼Ÿ
    - Rustä¸ºæ­¤æä¾›äº†å€Ÿç”¨ï¼ˆborrowingï¼‰æœºåˆ¶ï¼Œå…è®¸åœ¨ä¸è½¬ç§»æ‰€æœ‰æƒçš„æƒ…å†µä¸‹ä¸´æ—¶è®¿é—®æ•°æ®ã€‚
    - ä½†æ˜¯å€Ÿç”¨æ»¡è¶³ä»¥ä¸‹ä¸¤æ¡è§„åˆ™ï¼š
      - åœ¨ä»»ä½•ç»™å®šæ—¶é—´ï¼Œä½ å¯ä»¥æ‹¥æœ‰ä»»æ„å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼ˆ`&T`ï¼‰ã€‚
      - æˆ–è€…ï¼Œä½ åªèƒ½æ‹¥æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼ˆ`&mut T`ï¼‰ã€‚
  - ç”¨åœè½¦åœºæ¥ç†è§£
    - ä¸å¯å˜å¼•ç”¨ (&T)ï¼šâ€œé¤å…å¯ä»¥ç»™å¾ˆå¤šä½é¡¾å®¢ä½ è½¦ä½çš„ç…§ç‰‡ï¼ˆ&Tï¼‰ï¼Œä»–ä»¬éƒ½å¯ä»¥å‡­ç…§ç‰‡æ‰¾åˆ°ä½ çš„è½¦å¹¶æ¬£èµå®ƒï¼Œä½†è°éƒ½ä¸èƒ½å¼€èµ°æˆ–æ”¹è£…å®ƒã€‚åªè¦æœ‰äººåœ¨çœ‹ï¼Œè½¦å°±å¿…é¡»åœåœ¨åŸåœ°ä¿æŒåŸæ ·ã€‚â€ -> å¯ä»¥æœ‰å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼Œä½†æ­¤æ—¶ä¸èƒ½æœ‰å¯å˜å¼•ç”¨ã€‚

    - å¯å˜å¼•ç”¨ (&mut T)ï¼šâ€œé¤å…åªèƒ½æŠŠå”¯ä¸€ä¸€æŠŠä»£é©¾é’¥åŒ™ï¼ˆ&mut Tï¼‰äº¤ç»™ä¸€ä½ä»£é©¾å¸æœºã€‚å½“å¸æœºæ‹¿ç€é’¥åŒ™æ—¶ï¼Œä¸ºäº†å®‰å…¨ï¼Œå…¶ä»–äººï¼ˆåŒ…æ‹¬ä½ è‡ªå·±ï¼‰éƒ½ä¸èƒ½é è¿‘è¿™è¾†è½¦ï¼ˆä¸èƒ½æœ‰ä»»ä½•å…¶ä»–å¼•ç”¨ï¼‰ï¼Œç›´åˆ°å¸æœºæŠŠé’¥åŒ™è¿˜å›æ¥ã€‚â€ -> åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œä¸”æ­¤æ—¶ä¸èƒ½æœ‰ä»»ä½•ä¸å¯å˜å¼•ç”¨ã€‚
]


== å°¾å£°
#slide[
  #align(center)[#text(1.5em, weight: "bold")[å›é¡¾ä¸æ€»ç»“]]
  #v(1em)
  #align(center)[#text(1.2em)[Rustï¼šæŒ‘æˆ˜â€œä¸å¯èƒ½â€çš„ç°ä»£ç³»ç»Ÿç¼–ç¨‹è¯­è¨€]]
  #v(1.5em)

  #grid(
    columns: (1fr, 1fr),
    gutter: 2em,
    [
      #heading(level: 3)[æ ¸å¿ƒä¼˜åŠ¿]
      - *å‘Šåˆ«ç¯å¢ƒå™©æ¢¦:* ä¸€ç«™å¼å·¥å…·é“¾ `rustup` å’Œ `cargo`ã€‚
      - *æ€§èƒ½ä¸å®‰å…¨çš„ç»Ÿä¸€:* åª²ç¾ C++ çš„æ€§èƒ½ï¼Œæ—  GC å¼€é”€ã€‚
      - *é›¶æˆæœ¬æŠ½è±¡:* é«˜åº¦æŠ½è±¡ï¼Œæ— è¿è¡Œæ—¶æŸè€—ã€‚
    ],
    [
      #heading(level: 3)[å…³é”®æœºåˆ¶]
      - *æ‰€æœ‰æƒ (Ownership):* ç¼–è¯‘æ—¶ä¿è¯å†…å­˜å®‰å…¨ã€‚
      - *å€Ÿç”¨ (Borrowing):* é€šè¿‡ `&` å’Œ `&mut` å®ç°å®‰å…¨çš„æ•°æ®å…±äº«ã€‚
      - #text(blue)[ç¼–è¯‘å™¨çš„â€œå” å¨â€ï¼Œæ˜¯ä½ æœ€å¯é çš„ä¼™ä¼´ã€‚]
    ],
  )
]

#slide[
  #align(center)[#text(1.5em, weight: "bold")[æ‚¨çš„ Rust ä¹‹æ—…æ‰åˆšåˆšå¼€å§‹]]
  #v(2em)

  #grid(
    columns: (1fr, 1fr),
    gutter: 3em,
    [
      #heading(level: 3)[ä¸‹ä¸€æ­¥æ¢ç´¢]
      - *æ³›å‹ (`Generics`) ä¸ `Trait`*: ç¼–å†™å¯å¤ç”¨çš„æŠ½è±¡ä»£ç ã€‚
      - *ç”Ÿå‘½å‘¨æœŸ (`Lifetimes`)*: æ·±å…¥ç†è§£å€Ÿç”¨æ£€æŸ¥å™¨ã€‚
    ],
    [
      #heading(level: 3)[æ¨èèµ„æº]
      - #link("https://kaisery.github.io/trpl-zh-cn/")[ã€ŠRust ç¨‹åºè®¾è®¡è¯­è¨€ã€‹] (The Book)
      - #link("https://doc.rust-lang.org/rust-by-example/zh/index.html")[Rust by Example]
      - #link("https://rustcc.cn/")[Rust ä¸­æ–‡ç¤¾åŒº]
    ],
  )

  #v(3em)
  #align(center)[
    #text(1.5em, weight: "bold")[æ¬¢è¿åŠ å…¥ Rustacean çš„è¡Œåˆ—ï¼]
    #image("../images/4.gif", width: 50%, alt: "Rust Crab")
  ]

]
